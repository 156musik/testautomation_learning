# 09：モーダルの出現待ち

## テストコード

```js
test('要素が表示されるまで待つ', async ({ page }) => {
  await page.goto('https://example.com/loading');
  await page.click('#startLoad');
  await expect(page.locator('#loadedContent')).toBeVisible();
});
```

### 問題

問１　上記のテストコードが行っている操作の流れを、日本語で説明してください。

問２　このテストコードで確認している観点（チェックポイント）は何でしょうか？

### 自分の回答

問１
1. Example.comのローディング画面に遷移する
2. 「ローディングを開始する」を押下する
3. ．ページの読み込みが完了したことを確認する

問２

ローディングができることの確認

### 回答/解説

問１
1. Example.comのローディング画面に遷移する
   - 正しいです。

2. 「ローディングを開始する」を押下する
   - #startLoad ボタンをクリックしているので、ボタンのラベルが実際に「ローディングを開始する」であるなら正しいです。ラベルがそうでない場合は「ローディング開始ボタンを押下する」などにしておくのが安全です。

3. ページの読み込みが完了したことを確認する
   - 少しあいまいな表現です。このコードが確認しているのは「ページ全体の読み込み完了」ではなく、「非表示だった要素 #loadedContent が表示されるようになった」ことです。

よって、より正確な説明としては次のようになります：

> 3. 非表示だった要素 #loadedContent が表示されるまで待つ

問２
- ローディングができることの確認
   - こちらも少し曖昧です。このコードの観点は「ローディングの開始操作を行った後、指定の要素が正しく表示されること」です。

より明確な表現例：

> ローディング操作の完了後に、指定された要素が表示されることの確認


## 追加テストコード

「ローディングスピナーが消えることを待つ」パターンについて追加で出題してもらった

```js
test('スピナーの非表示を待つ', async ({ page }) => {
  await page.goto('https://example.com/spinner');
  await page.click('#startLoading');
  await expect(page.locator('#loadingSpinner')).toBeHidden();
  await expect(page.locator('#resultContent')).toBeVisible();
});

```

### 問題

問１　上記のテストコードが行っている操作の流れを、日本語で説明してください。

問２　このテストコードで確認している観点（チェックポイント）は何でしょうか？

### 自分の回答

問１


